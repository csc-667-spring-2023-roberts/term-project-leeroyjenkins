extends layout.pug 

block content 
  form(action='/home/logout', method='post')
    button(type='submit') Log Out 
  form(action='/home/createTable', method='get')
    button(type='submit') Create Table
  
  h1 Welcome #{username}
  p Current Balance: #{wallet}

  h1 Game Table
  table
    thead
      tr
        th Name
        th Minimum
        th Maximum
        th Players
        th Limit
        th Join
    tbody
      each game in games
        tr(id=game.id)
          td= game.name
          td= game.minimum
          td= game.maximum
          td= game.count
          td= game.plimit
          td
            form(action=`/games/${game.id}`, method='post')
              button(type='submit') Join
  
  h1 Personal Games
  table 
    thead 
      tr
        th Name
        th Minimum
        th Maximum
        th Players
        th Limit
        th Join
    tbody
      each pgame in pgames
        tr(id=pgame.id)
          td= pgame.name
          td= pgame.minimum
          td= pgame.maximum
          td= pgame.count
          td= pgame.plimit
          td 
            form(action=`/games/${pgame.id}`, method='post')
              button(type='submit') Join
       
  br
  div(id = 'chat-container')
          div(id = 'messages')
              label
                  input(id='chatMessage',  name='chat-message',placeholder='Message...')



  script(src='/scripts/gameTable.js')
  script(src='/scripts/homeChat.bundle.js', defer)